# ğŸ§‘â€ğŸ’¼ LeetCode SQL Problem â€” Find Customers With No Transactions

ğŸ”— **LeetCode Link:**  
ğŸ‘‰ *[(1581. Customer Who Visited but Did Not Make Any Transactions)](https://leetcode.com/problems/customer-who-visited-but-did-not-make-any-transactions/description/?envType=study-plan-v2&envId=top-sql-50)*

---

## ğŸ—‚ï¸ Tables

### ğŸ“„ Table: `Visits`

| ğŸ§¾ Column Name | ğŸ§® Type |
| -------------- | ------- |
| `visit_id`     | `int`   |
| `customer_id`  | `int`   |

> ğŸ—ï¸ **Notes**:
>
> * `visit_id` is the **primary key**.
> * Each row represents a visit by a customer to the mall.

---

### ğŸ“„ Table: `Transactions`

| ğŸ§¾ Column Name    | ğŸ§® Type |
| ----------------- | ------- |
| `transaction_id`  | `int`   |
| `visit_id`        | `int`   |
| `amount`          | `int`   |

> ğŸ—ï¸ **Notes**:
>
> * `transaction_id` is the **primary key**.
> * Each transaction is linked to a visit via `visit_id`.

---

## ğŸ“Œ Problem Statement

> âœ¨ **Goal**:  
> Identify customers who visited the mall but made **no transactions**, and return the **number of such visits per customer**.
>
> ğŸ“¤ **Return** the result table in **any order**.

---

## ğŸ§ª Example

### ğŸ”¢ Input

#### `Visits` Table:

| `visit_id` | `customer_id` |
| ---------- | -------------- |
| 1          | 23             |
| 2          | 9              |
| 4          | 30             |
| 5          | 54             |
| 6          | 96             |
| 7          | 54             |
| 8          | 54             |

#### `Transactions` Table:

| `transaction_id` | `visit_id` | `amount` |
| ---------------- | ---------- | -------- |
| 2                | 5          | 310      |
| 3                | 5          | 300      |
| 9                | 5          | 200      |
| 12               | 1          | 910      |
| 13               | 2          | 970      |

---

### âœ… Output

| `customer_id` | `count_no_trans` |
| ------------- | ---------------- |
| 54            | 2                |
| 30            | 1                |
| 96            | 1                |

> ğŸ’¡ **Explanation**:
>
> * âœ… Customer `54` visited 3 times, but only one visit had transactions â†’ **2 no-transaction visits**.
> * âœ… Customer `30` visited once, with no transactions.
> * âœ… Customer `96` visited once, with no transactions.
> * âŒ Customers `23` and `9` each made at least one transaction during their only visit.

---

## ğŸ“¦ Summary

| âœ… Requirement                                       | ğŸ¯ Achievement                       |
| --------------------------------------------------- | ------------------------------------ |
| Identify visits without any transactions            | Use `LEFT JOIN` and filter `NULL`s   |
| Group by customer and count such visits             | Use `GROUP BY` with `COUNT(*)`       |
| Return customer ID and number of no-transaction visits | Shown as `customer_id`, `count_no_trans` |
| Output in any order                                 | No `ORDER BY` needed                 |

---
